<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.team3.tamagochi.store.StoreDAO">
  
  	<select id="getCharacterList" parameterType="Integer" resultType="CharacterDTO">
  		SELECT *
  		FROM CHARACTER
  		ORDER BY CHARACTER_NUM ASC
  	</select>
  	
  	<select id="getWeaponList" parameterType="Integer" resultType="WeaponDTO">
  		SELECT *
  		FROM WEAPON
  		ORDER BY WEAPON_NUM ASC
  	</select>
  	
  	<select id="getWeaponDetail" parameterType="Long" resultType="WeaponDTO">
  		SELECT *
  		FROM WEAPON
  		WHERE WEAPON_NUM=#{weapon_num}
  	</select>
  	
  	<select id="getCharacterDetail" parameterType="Long" resultType="CharacterDTO">
  		SELECT *
  		FROM CHARACTER
  		WHERE CHARACTER_NUM=#{character_num}
  	</select>
  	
  	<insert id="addItem" parameterType="WeaponDTO">
  		INSERT INTO
  		<choose>
  			<when test="weapon_description != null">
  				WEAPON (WEAPON_NUM, ITEM_NAME, WEAPON_DESCRIPTION, ITEM_HP, ITEM_ATK, ITEM_DOD, ITEM_PRICE)
  				VALUES (WEAPON_SEQ.NEXTVAL,#{item_name}, #{weapon_description}, #{item_hp}, #{item_atk}, #{item_dod}, #{item_price})
  			</when>
  			<otherwise>
  				CHARACTER (CHARACTER_NUM, ITEM_NAME, ITEM_HP, ITEM_ATK, ITEM_DOD, ITEM_PRICE)
  				VALUES (CHARACTER_SEQ.NEXTVAL,#{item_name}, #{item_hp}, #{item_atk}, #{item_dod}, #{item_price})
  			</otherwise>
  		</choose>
  		
  	</insert>
  
  </mapper>